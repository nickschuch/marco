{"name":"Marco","tagline":"A reverse proxy written in Go. Uses the Docker REST API as a dynamic backend.","body":"![Overview](https://raw.githubusercontent.com/nickschuch/marco/master/docs/overview.png \"Overview\")\r\n\r\n### Why?\r\n\r\nI created this proxy for 2 reasons.\r\n* Local development with more than one container that needs to run on a single HTTP port (eg. 80)\r\n* Load balance across multiple hosts with containers ready to serve a single site. Powered by Docker Swarm.\r\n\r\n![Why](https://raw.githubusercontent.com/nickschuch/marco/master/docs/why.png \"Why\")\r\n\r\n### Example\r\n\r\nI have the containers:\r\n* **container1**\r\n  * Port 80 exposed\r\n  * Environment variable DOMAIN set to _www.example.com_\r\n* **container2**\r\n  * Port 80 exposed\r\n  * Environment variable DOMAIN set to _www.example.com_\r\n* **container3**\r\n  * Port 8983 exposed\r\n  * Environment variable DOMAIN set to _www.foobar.com_\r\n* **container4**\r\n  * Port 80 exposed\r\n* **container5**\r\n  * Environment variable DOMAIN set to _www.baz.com_\r\n\r\nThis proxy will setup the following routes:\r\n* A \"random\" load balanced connection between _container1_ and _container2_\r\n* A proxy connection to _container3_\r\n* No proxy connection will be setup for _container4_ given it doesn't have a DOMAIN environment variable set.\r\n* No proxy connection will be setup for _container5_ given it doesn't have a Port exposedt.\r\n\r\n### How to run\r\n\r\n**Build the binary with**\r\n\r\n```\r\n$ go build marco.go\r\n```\r\n\r\n**Run the binary with**\r\n\r\n```\r\n$ sudo ./marco\r\n```\r\n\r\n**Run with all the args**\r\n\r\n```\r\n$ sudo ./marco -bind=8080 -ports=80,8983,8080 -endpoint=tcp://localhost:2375\r\n```\r\n\r\n* bind - Server traffic through the following port.\r\n* ports - The Docker exposed ports that this proxy can use (in order).\r\n* endpoint - Connection to the Docker daemon.\r\n\r\n**Run inside a Docker container**\r\n\r\n```\r\n$ docker pull nickschuch/marco\r\n$ docker run -d -p 0.0.0.0:80:80 -v /var/run/docker.sock:/var/run/docker.sock nickschuch/marco\r\n```\r\n\r\n### Demo\r\n\r\n_I will post a video very soon..._\r\n\r\n### Roadmap\r\n\r\n* Http auth (maybe)\r\n* Logging\r\n* Error handling\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}